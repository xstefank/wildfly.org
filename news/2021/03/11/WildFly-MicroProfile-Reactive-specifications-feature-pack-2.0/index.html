<!DOCTYPE html>
<html>

<head>
  <script id="adobe_dtm" src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MicroProfile Reactive Messaging in WildFly 23, and WildFly MicroProfile Reactive Specifications Feature Pack 2.0.0.Final</title>
  <meta name="description" content="MicroProfile Reactive Messaging in WildFly 23, and WildFly MicroProfile Reactive Specifications Feature Pack 2.0.0.Final">
  <link rel="me" href="https://fosstodon.org/@wildflyas" />
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/assets/css/main.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-40221748-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-40221748-1');
  </script>


</head>

<body class="MicroProfile Reactive Messaging in WildFly 23, and WildFly MicroProfile Reactive Specifications Feature Pack 2.0.0.Final">
  <div class="content">
    <div class="header navigation">
  <div class="logo-wrapper">
    <a href="/"><img class="wf-logo" src="/assets/img/wildfly_icons_one-color-logo.png"></a>
  </div>
  <div class="nav-container">
    <nav>
      <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
      <ul class="nav-list">
        <li>
          <a href="/" class="">Home</a>
        </li>
        <li>
          <a href="/downloads/" class="">Downloads</a>
        </li>
        <li>
          <a href="/news/" class="active">News</a>
        </li>
        <li>
          <a href="/about/" class="">About</a>
        </li>
        <li>
          <a href="/contribute/" class="">Contribute</a>
        </li>
        <li>
            <a target="_blank" href="https://docs.wildfly.org">Docs</a>
        </li>
        <li>
          <a class="button-cta secondary" href="https://github.com/wildfly/wildfly/fork" target="_blank">Fork</a>
        </li>
      </ul>
    </nav>
  </div>
</div>

    <div class="post-page grid-wrapper">
  <div class="grid__item width-10-12">
    <h1 class="title">MicroProfile Reactive Messaging in WildFly 23, and WildFly MicroProfile Reactive Specifications Feature Pack 2.0.0.Final</h1>
    
    <p class="byline">By Kabir Khan | March 11, 2021</p>
  </div>
  <div class="grid__item width-10-12 doc-content">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>I am pleased to announce the 2.0.0.Final release of the MicroProfile Reactive Specifications Feature Pack for WildFly. Between
the <a href="https://www.wildfly.org/news/2020/11/05/WildFly-MicroProfile-Reactive-specifications-feature-pack-1.0/">1.0.0.Final release</a> and the <a href="https://www.wildfly.org/news/2021/03/11/WildFly23-Final-Released/">WildFly 23.0.0.Final</a> release, we pulled the core of what the feature pack contained into WildFLy.</p>
</div>
<div class="paragraph">
<p>WildFly now contains these Galleon layers which used to live in the 1.0.x stream of the feature pack:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>microprofile-reactive-messaging</code> - Provides the <a href="https://github.com/eclipse/microprofile-reactive-messaging/releases">MicroProfile Reactive Messaging 1.0</a> functionality - this is a framework for building event-driven, data streaming and event sourcing applications using CDI. The streams, or channels, can be backed by a variety of messaging technologies.</p>
<div class="ulist">
<ul>
<li>
<p><code>microprofile-reactive-messaging-kafka</code> - The include the connector for Kafka in WildFly, in the  layer</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>microprofile-reactive-streams-operators</code> - provides the <a href="https://github.com/eclipse/microprofile-reactive-streams-operators/releases">MicroProfile Reactive Streams Operators 1.0</a> functionality.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The WildFly 23.0.0.Final zip available from our <a href="https://www.wildfly.org/downloads/">downloads</a> page contains these layers, however they are not enabled by default. To enable the functionality you need to add the extensions and enable the subsystems. The simplest way is to run this <a href="https://github.com/wildfly/quickstart/blob/23.0.0.Final/microprofile-reactive-messaging-kafka/enable-reactive-messaging.cli">CLI script</a>. This script is taken from the WildFly Reactive Messaging with Kafka QuickStart, which you can find <a href="https://github.com/wildfly/quickstart/tree/23.0.0.Final/microprofile-reactive-messaging-kafka/">here</a> to get you started.</p>
</div>
<div class="paragraph">
<p>Additionally there are sections about these subsystems in our Admin Guide (<a href="https://docs.wildfly.org/23/Admin_Guide.html#MicroProfile_Reactive_Streams_Operators_SmallRye">Reactive Streams Operators</a>/<a href="https://docs.wildfly.org/23/Admin_Guide.html#MicroProfile_Reactive_Messaging_SmallRye">Reactive Messaging</a>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-feature-pack">The Feature Pack</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As before to use the feature pack you will need to use Galleon to provision a server, as pointed out in the feature pack <a href="https://github.com/wildfly-extras/wildfly-mp-reactive-feature-pack">README</a>. That README contains more details of what is contained, but in summary it contains Galleon layers to provide the following functionality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/eclipse/microprofile-context-propagation/releases">MicroProfile Context Propagation 1.0</a> functionality.</p>
</li>
<li>
<p>Additional Reactive Messaging connectors for:</p>
<div class="ulist">
<ul>
<li>
<p>AMQP</p>
</li>
<li>
<p>MQTT</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>We decided to remove RxJava2 support of context propagation for the feature pack since that caused some problems under the hood. RxJava2 is not a supported API for user applications in WildFly (although we use it for somem internal functionality). If you have the need to process streams, please use the MicroProfile Reactive Streams Operators API instead.</p>
</div>
<div class="paragraph">
<p>Note that the 2.0.x series of the feature pack will only work with WildFLy 23.</p>
</div>
<div class="paragraph">
<p>For earlier WildFly versions, use the 1.0.x releases. The present latest release on that stream, 1.0.2, works with WildFLy 21 and WildFly 22.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spec-compliance">Spec compliance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is worth pointing out that we&#8217;re strictly staying with what version 1.0 of the MicroProfile Reactive Messaging specification provides. However, the SmallRye Reactive Messaging <a href="https://github.com/smallrye/smallrye-reactive-messaging/tree/3.0.0">version</a> we use is used to develop the next version of the specification, which is not ready yet. If you wish to get a preview of that, the steps are to instead of compiling your application against <code>org.eclipse.microprofile.reactive.messaging:microprofile-reactive-messaging-api:1.0</code>, compile against <code>io.smallrye.reactive:smallrye-reactive-messaging-api:3.0.0</code>, and make sure you start the server with <code>-Djboss.as.reactive.messaging.experimental=true</code> which will bypasss some checks and allow you to use more recent, although currently unreleased constructs such as <a href="https://github.com/eclipse/microprofile-reactive-messaging/blob/2.0-RC1/api/src/main/java/org/eclipse/microprofile/reactive/messaging/Channel.java">@Channel</a> and <a href="https://github.com/eclipse/microprofile-reactive-messaging/blob/master/api/src/main/java/org/eclipse/microprofile/reactive/messaging/Emitter.java">Emitter</a>. <strong>Note:</strong> - these APIs may still change until there is a final release of the next specification version.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-is-coming-up">What is coming up?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the MicroProfile Reactive Messaging 2.0 specification is released and the other reactive specifications, MicroProfile Reactive Streams Operators and MicroProfile Context Propagation, are finalised, we will start work on integrating them into a future (as yet to be determined) WildFly version. With the current information, the feature pack then mainly becomes a place for the connectors we don&#8217;t want in WildFly yet.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="feedback">Feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We&#8217;re keen to hear your feedback! Please raise any issues found with the feature pack at <a href="https://github.com/wildfly-extras/wildfly-mp-reactive-feature-pack/issues" class="bare">https://github.com/wildfly-extras/wildfly-mp-reactive-feature-pack/issues</a>. And for the parts in WildFly, raise issues at <a href="https://issues.redhat.com" class="bare">https://issues.redhat.com</a>, in the WFLY project (using 'MP Reactive Messaging' as the component).</p>
</div>
</div>
</div>
  </div>
</div>



  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img class="wf-logo" src="/assets/img/wildfly_icons_one-color-logo.png"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">WildFly is open. All dependencies of this project are available under the <a href='https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html' target='_blank'>LGPL 2.1</a> or compatible license.<br/><br/>This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a> is hosted on <a href='https://pages.github.com/' target='_blank'>Github Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/wildfly/wildfly.org/fork' target='_blank'>fork it</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <strong>Navigation</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="/downloads">Downloads</a></li>
          
            <li><a href="https://docs.wildfly.org">Docs</a></li>
          
            <li><a href="https://github.com/wildfly/wildfly">Github</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <strong>Contribute</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://issues.jboss.org/browse/WFLY">Submit a bug</a></li>
          
            <li><a href="https://groups.google.com/forum/#!forum/wildfly">Join the forum</a></li>
          
            <li><a href="https://github.com/wildfly/wildfly/fork">Fork WildFly</a></li>
          
            <li><a href="https://twitter.com/WildFlyAS">Follow us</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <strong>Get Help</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://groups.google.com/forum/#!forum/wildfly">Join the forum</a></li>
          
            <li><a href="https://wildfly.zulipchat.com/">Join Zulip Chat</a></li>
          
        </ul>
      </div>
    

    
      <div class="width-6-12 more-links">
        <strong>Find more Red Hat Middleware Community Projects</strong>
        <ul class="footer-links">
          
            <li><a href="https://www.apiman.io/">APIMan</a></li>
          
            <li><a href="http://arquillian.org">Arquillian</a></li>
          
            <li><a href="https://github.com/ansible-middleware/wildfly">Ansible Collection for Wildfly</a></li>
          
            <li><a href="http://byteman.jboss.org/">Byteman</a></li>
          
            <li><a href="http://capedwarf.org/">CapeDwarf</a></li>
          
            <li><a href="https://github.com/alechenninger/chronicler">Chronicler</a></li>
          
            <li><a href="https://github.com/darcy-framework">Darcy</a></li>
          
            <li><a href="http://debezium.io/">Debezium</a></li>
          
            <li><a href="https://www.drools.org/">Drools</a></li>
          
            <li><a href="http://gatein.jboss.org/">GateIn</a></li>
          
            <li><a href="http://www.hawkular.org/">Hawkular</a></li>
          
            <li><a href="http://hawt.io/">Hawtio</a></li>
          
            <li><a href="http://hibernate.org/">Hibernate</a></li>
          
            <li><a href="http://www.infinispan.org/">Infinispan</a></li>
          
            <li><a href="https://developers.redhat.com/products/codeready-studio/overview">CodeReady Studio</a></li>
          
            <li><a href="http://forge.jboss.org/">JBoss Forge</a></li>
          
            <li><a href="https://github.com/jboss-logging">JBoss Logging</a></li>
          
            <li><a href="http://jbossremoting.jboss.org/">JBoss Remoting</a></li>
          
            <li><a href="https://www.jbpm.org/">jBPM</a></li>
          
            <li><a href="https://jsfunit.jboss.org/">JSFUnit</a></li>
          
            <li><a href="https://www.keycloak.org/">Keycloak</a></li>
          
            <li><a href="http://modcluster.io/">Mod Cluster</a></li>
          
            <li><a href="http://modeshape.jboss.org/">ModeShape</a></li>
          
            <li><a href="https://www.optaplanner.org/">OptaPlanner</a></li>
          
            <li><a href="https://quarkus.io/">Quarkus</a></li>
          
            <li><a href="http://resteasy.jboss.org/">RESTEasy</a></li>
          
            <li><a href="https://riftsaw.jboss.org/">Riftsaw</a></li>
          
            <li><a href="http://savara.jboss.org/">Savara</a></li>
          
            <li><a href="https://weld.cdi-spec.org/">Weld</a></li>
          
            <li><a href="http://arquillian.org/">Shrinkwrap</a></li>
          
            <li><a href="http://snowdrop.jboss.org/">Snowdrop</a></li>
          
            <li><a href="https://switchyard.jboss.org/">Switchyard</a></li>
          
            <li><a href="https://tattletale.jboss.org/">Tattletale</a></li>
          
            <li><a href="http://teiid.jboss.org/">Teiid</a></li>
          
            <li><a href="https://wildfly-security.github.io/wildfly-elytron/">WildFly Elytron</a></li>
          
            <li><a href="https://thorntail.io/">Thorntail</a></li>
          
            <li><a href="http://wise.jboss.org/">Wise</a></li>
          
            <li><a href="https://xnio.jboss.org/">XNIO</a></li>
          
        </ul>
      </div>
    
  </div>
</div>
  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/img/redhat_reversed.svg"></a>
    </span>
  </div>
</div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/random-color-picker.js"></script>
  <script type="text/javascript">
    if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
    }
  </script>
</body>

</html>
